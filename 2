<!DOCTYPE html>
<html>
<head>
    <title>Interactive E-Commerce Store</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
        }
        .product {
            border: 1px solid #ccc;
            padding: 15px;
            margin-bottom: 15px;
            width: 250px;
        }
        button {
            padding: 5px 10px;
            cursor: pointer;
            margin-top: 5px;
        }
        input {
            width: 50px;
        }
        #cart {
            margin-top: 30px;
            border-top: 2px solid black;
            padding-top: 20px;
        }
        .cart-item {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>

    <h1>üõí My Online Store</h1>

    <p>
        Enter your name:
        <input type="text" id="username" placeholder="Your name">
    </p>

    <!-- PRODUCTS -->

    <div class="product">
        <h3>Laptop</h3>
        <p>Price: $800</p>
        Quantity: <input type="number" id="qty1" value="1" min="1">
        <br>
        <button onclick="addToCart('Laptop', 800, 'qty1')">Add to Cart</button>
    </div>

    <div class="product">
        <h3>Phone</h3>
        <p>Price: $500</p>
        Quantity: <input type="number" id="qty2" value="1" min="1">
        <br>
        <button onclick="addToCart('Phone', 500, 'qty2')">Add to Cart</button>
    </div>

    <div class="product">
        <h3>Headphones</h3>
        <p>Price: $100</p>
        Quantity: <input type="number" id="qty3" value="1" min="1">
        <br>
        <button onclick="addToCart('Headphones', 100, 'qty3')">Add to Cart</button>
    </div>

    <!-- CART -->

    <div id="cart">
        <h2>üõç Shopping Cart</h2>
        <div id="cartItems"></div>
        <h3>Total: $<span id="total">0</span></h3>

        <button onclick="clearCart()">Clear Cart</button>
        <button onclick="checkout()">Checkout</button>
    </div>

<script>
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    function addToCart(name, price, qtyId) {
        let quantity = parseInt(document.getElementById(qtyId).value);

        let item = {
            name: name,
            price: price,
            quantity: quantity
        };

        cart.push(item);
        saveCart();
        renderCart();
    }

    function removeItem(index) {
        cart.splice(index, 1);
        saveCart();
        renderCart();
    }

    function clearCart() {
        cart = [];
        saveCart();
        renderCart();
    }

    function checkout() {
        let username = document.getElementById("username").value;
        if (!username) {
            alert("Please enter your name before checkout.");
            return;
        }

        if (cart.length === 0) {
            alert("Your cart is empty!");
            return;
        }

        alert("Thank you " + username + "! Your order has been placed.");
        clearCart();
    }

    function saveCart() {
        localStorage.setItem("cart", JSON.stringify(cart));
    }

    function renderCart() {
        let cartDiv = document.getElementById("cartItems");
        let total = 0;
        cartDiv.innerHTML = "";

        cart.forEach((item, index) => {
            let div = document.createElement("div");
            div.className = "cart-item";
            div.innerHTML = `
                ${item.name} - $${item.price} x ${item.quantity}
                <button onclick="removeItem(${index})">Remove</button>
            `;
            cartDiv.appendChild(div);

            total += item.price * item.quantity;
        });

        document.getElementById("total").textContent = total;
    }

    renderCart();
</script>

</body>
</html>
